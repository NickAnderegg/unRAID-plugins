Menu="IPMI:2"
Title="Fan Control"
---
<form markdown="1" name="ipmifan_settings" method="POST" action="/update.php" target="progressFrame">
<input type="hidden" name="#file" value="ipmitool-plugin/ipmitool-plugin.cfg" />
<input type="hidden" id="command" name="#command" value="" />

IPMI Fan Control:
: <select name="service" size="1">
  <?=mk_option($cfg['service'], "0", "No")?>
  <?=mk_option($cfg['service'], "1", "Yes")?>
  </select>

&nbsp;

<?php if ($fans[0]): ?>

<?=$fans[0];?> temperature sensor:
: <select name="<?='FAN_'.$fans[0];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[0];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[0];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[0];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[0];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[1]): ?>

<?=$fans[1];?> temperature sensor:
: <select name="<?='FAN_'.$fans[1];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[1];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[1];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[1];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[1];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[2]): ?>

<?=$fans[2];?> temperature sensor:
: <select name="<?='FAN_'.$fans[2];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[2];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[2];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[2];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[2];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[3]): ?>

<?=$fans[3];?> temperature sensor:
: <select name="<?='FAN_'.$fans[3];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[3];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[3];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[3];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[3];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[4]): ?>

<?=$fans[4];?> temperature sensor:
: <select name="<?='FAN_'.$fans[4];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[4];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[4];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[4];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[4];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[5]): ?>

<?=$fans[5];?> temperature sensor:
: <select name="<?='FAN_'.$fans[5];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[5];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[5];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[5];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[5];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[6]): ?>

<?=$fans[6];?> temperature sensor:
: <select name="<?='FAN_'.$fans[6];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[6];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[6];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[6];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[6];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[7]): ?>

<?=$fans[7];?> temperature sensor:
: <select name="<?='FAN_'.$fans[7];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[7];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[7];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[7];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[7];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[8]): ?>

<?=$fans[8];?> temperature sensor:
: <select name="<?='FAN_'.$fans[8];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[8];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[8];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[8];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[8];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

&nbsp;

<?php endif; ?>

<?php if ($fans[9]): ?>

<?=$fans[9];?> temperature sensor:
: <select name="<?='FAN_'.$fans[9];?>">
		<option value='0'>Auto</option>
		<?=ipmi_get_options($sensors, 'Temperature');?>
		<option value='HDD'>HDD Temperatures</option>
	</select>

<?=$fans[9];?> Low temperature threshold:
: <select name="<?='FAN_'.$fans[9];?>_LOW">
		<option value='0'>Auto</option>
	</select>

<?=$fans[9];?> High temperature threshold:
: <select name="<?='FAN_'.$fans[9];?>_HIGH">
		<option value='0'>Auto</option>
	</select>

<?php endif; ?>

&nbsp;

<input id="FAN_DEFAULT" class="ipmifan-run" type="button" value="Default" onClick="resetFANDATA(this.form);">
: <input id="btnFANApply" type="submit" value="Apply" onClick="verifyFANDATA(this.form)"><input type="button" value="Done" onClick="done()">
</form>
